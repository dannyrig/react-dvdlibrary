(this["webpackJsonpreact-dvdlibrary"]=this["webpackJsonpreact-dvdlibrary"]||[]).push([[0],{25:function(e,t,a){},26:function(e,t,a){},32:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(12),l=a.n(i),d=(a(25),a(7)),s=a(8),o=a(10),c=a(9),h=(a.p,a(26),a(35)),j=a(36),u=a(20),v=(a(27),a(39)),b=a(34),O=a(1),D=function(){return Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{children:"Title"}),Object(O.jsx)("th",{children:"Release Date"}),Object(O.jsx)("th",{children:"Director"}),Object(O.jsx)("th",{children:"Rating"}),Object(O.jsx)("th",{})]})},x=function(e){var t=e.dvds,a=e.toggleEdit,n=e.toggleDelete,r=e.viewDetails;return Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{children:Object(O.jsx)(v.a,{variant:"link",style:{height:35},onClick:r,value:t.id,children:t.title})}),Object(O.jsx)("td",{children:t.releaseYear}),Object(O.jsx)("td",{children:t.director}),Object(O.jsx)("td",{children:t.rating}),Object(O.jsxs)("td",{style:{textAlign:"center",fontSize:"18px"},children:[Object(O.jsx)(v.a,{variant:"link",onClick:a,value:t.id,children:"Edit"})," |  ",Object(O.jsx)(v.a,{variant:"link",onClick:n,value:t.id,children:"Delete"})," "]})]})},g=function(e){Object(o.a)(a,e);var t=Object(c.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){var e=this;return Object(O.jsxs)(b.a,{striped:!0,bordered:!0,responsive:!0,children:[Object(O.jsx)("thead",{children:Object(O.jsx)(D,{})}),Object(O.jsx)("tbody",{children:this.props.dvd.map((function(t,a){return Object(O.jsx)(x,{dvds:t,toggleDelete:e.props.handleDelete,toggleEdit:e.props.handleEdit,viewDetails:e.props.handleDetails},a)}))})]})}}]),a}(n.Component);g.defaultProps={dvd:[{id:1,title:"Avengers: Endgame",releaseYear:2019,director:"Anthony & Joe Russo",rating:"PG-13",notes:"It's the Endgame!"},{id:2,title:"Avengers: Infinity War",releaseYear:2018,director:"Anthony & Joe Russo",rating:"PG-13",notes:"An entire universe, once and for all."}]};var p=g,f=function(e){Object(o.a)(a,e);var t=Object(c.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={searchCategory:"",searchField:""},e}return Object(s.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.handleCreate,n=t.handleSearch;return Object(O.jsxs)("h1",{children:[Object(O.jsx)(v.a,{style:{marginRight:700},onClick:a,children:"Create DVD"}),Object(O.jsx)(v.a,{style:{marginRight:50},onClick:n,name:this.state.searchCategory,value:this.state.searchField,children:"Search"}),Object(O.jsxs)("select",{name:"search",style:{fontSize:"20px",marginRight:50},onChange:function(t){return e.setState({searchCategory:t.target.value})},children:[Object(O.jsx)("option",{value:"",children:"Search Category"}),Object(O.jsx)("option",{value:"title",children:"Title"}),Object(O.jsx)("option",{value:"releaseYear",children:"Release Year"}),Object(O.jsx)("option",{value:"director",children:"Director Name"}),Object(O.jsx)("option",{value:"rating",children:"Rating"})]}),Object(O.jsx)("input",{type:"text",style:{width:"320px",fontSize:"20px"},placeholder:"Search Term",name:"term",onChange:function(t){return e.setState({searchField:t.target.value})},value:this.state.searchField})]})}}]),a}(r.a.Component),C=a(37),y=function(e){Object(o.a)(a,e);var t=Object(c.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){var e=this.props,t=e.dvdData,a=e.handleDelete,n=e.show,r=e.handleClose;return Object(O.jsx)(C.a,{show:n,onHide:r,animation:!1,children:Object(O.jsxs)(C.a.Dialog,{children:[Object(O.jsx)(C.a.Header,{closeButton:!0,children:Object(O.jsx)(C.a.Title,{children:"Confirmation"})}),Object(O.jsxs)(C.a.Body,{children:[Object(O.jsx)("p",{children:"Are you sure you want to delete this DVD from your collection?"}),Object(O.jsx)("br",{}),Object(O.jsx)(v.a,{variant:"secondary",onClick:r,style:{marginRight:10},children:"Cancel"}),Object(O.jsx)(v.a,{variant:"primary",onClick:a,value:t.id,children:"Yes"})]})]})})}}]),a}(r.a.Component),m=a(38),S=function(e){Object(o.a)(a,e);var t=Object(c.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){var e=this.props,t=e.dvdData,a=e.handleSubmit,n=e.handleChange,r=e.show,i=e.handleClose,l=e.dvdErrors;return Object(O.jsx)(C.a,{show:r,onHide:i,animation:!1,children:Object(O.jsxs)(C.a.Dialog,{children:[Object(O.jsxs)(C.a.Header,{closeButton:!0,children:[Object(O.jsxs)(C.a.Title,{children:["Edit DVD: ",t.title]}),Object(O.jsx)("hr",{})]}),Object(O.jsxs)(C.a.Body,{children:[Object(O.jsxs)(m.a,{children:[Object(O.jsxs)(m.a.Group,{controlId:"dvdTitle",children:[Object(O.jsx)(m.a.Label,{children:"Dvd Title:"}),Object(O.jsx)(m.a.Control,{type:"text",placeholder:"Title",name:"title",value:t.title,onChange:n,isInvalid:!!l.title}),Object(O.jsx)(m.a.Control.Feedback,{type:"invalid",children:l.title})]}),Object(O.jsxs)(m.a.Group,{controlId:"dvdReleaseYear",children:[Object(O.jsx)(m.a.Label,{children:"Release Year:"}),Object(O.jsx)(m.a.Control,{type:"text",name:"releaseYear",placeholder:"Year",value:t.releaseYear,onChange:n,isInvalid:!!l.releaseYear,pattern:"^SW[0-9]{4}$"}),Object(O.jsx)(m.a.Control.Feedback,{type:"invalid",children:l.releaseYear})]}),Object(O.jsxs)(m.a.Group,{controlId:"dvdDirector",children:[Object(O.jsx)(m.a.Label,{children:"Director:"}),Object(O.jsx)(m.a.Control,{type:"text",placeholder:"Director",name:"director",value:t.director,onChange:n})]}),Object(O.jsxs)(m.a.Group,{controlId:"dvdRating",children:[Object(O.jsx)(m.a.Label,{children:"Rating:"}),Object(O.jsxs)(m.a.Control,{as:"select",onChange:n,name:"rating",isInvalid:!!l.rating,children:[Object(O.jsx)("option",{value:"",children:"Please Select a Rating"}),Object(O.jsx)("option",{value:"G",children:"G"}),Object(O.jsx)("option",{value:"PG",children:"PG"}),Object(O.jsx)("option",{value:"PG-13",children:"PG-13"}),Object(O.jsx)("option",{value:"R",children:"R"})]}),Object(O.jsx)(m.a.Control.Feedback,{type:"invalid",children:l.rating})]}),Object(O.jsxs)(m.a.Group,{controlId:"dvdNotes",children:[Object(O.jsx)(m.a.Label,{children:"Notes:"}),Object(O.jsx)(m.a.Control,{as:"textarea",rows:7,style:{width:400},placeholder:"Notes",name:"notes",value:t.notes,onChange:n})]})]}),Object(O.jsx)("br",{}),Object(O.jsx)(v.a,{variant:"secondary",onClick:i,style:{marginRight:10},children:"Cancel"}),Object(O.jsx)(v.a,{variant:"primary",onClick:a,value:t.id,children:"Save Changes"})]})]})})}}]),a}(r.a.Component),E=function(e){Object(o.a)(a,e);var t=Object(c.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){var e=this.props,t=e.dvdData,a=e.handleSubmit,n=e.handleChange,r=e.show,i=e.handleClose,l=e.dvdErrors;return Object(O.jsx)(C.a,{show:r,onHide:i,animation:!1,children:Object(O.jsxs)(C.a.Dialog,{children:[Object(O.jsxs)(C.a.Header,{closeButton:!0,children:[Object(O.jsx)(C.a.Title,{children:"Create DVD"}),Object(O.jsx)("hr",{})]}),Object(O.jsxs)(C.a.Body,{children:[Object(O.jsxs)(m.a,{children:[Object(O.jsxs)(m.a.Group,{controlId:"addTitle",children:[Object(O.jsx)(m.a.Label,{children:"Dvd Title:"}),Object(O.jsx)(m.a.Control,{type:"text",placeholder:"Enter Title",name:"title",value:t.title,onChange:n,isInvalid:!!l.title}),Object(O.jsx)(m.a.Control.Feedback,{type:"invalid",children:l.title})]}),Object(O.jsxs)(m.a.Group,{controlId:"addReleaseYear",children:[Object(O.jsx)(m.a.Label,{children:"Release Year:"}),Object(O.jsx)(m.a.Control,{type:"text",placeholder:"Enter Release Year",name:"releaseYear",value:t.releaseYear,onChange:n,isInvalid:!!l.releaseYear,pattern:"^SW[0-9]{4}$"}),Object(O.jsx)(m.a.Control.Feedback,{type:"invalid",children:l.releaseYear})]}),Object(O.jsxs)(m.a.Group,{controlId:"addDirector",children:[Object(O.jsx)(m.a.Label,{children:"Director:"}),Object(O.jsx)(m.a.Control,{type:"text",placeholder:"Enter Director",name:"director",value:t.director,onChange:n})]}),Object(O.jsxs)(m.a.Group,{controlId:"addRating",children:[Object(O.jsx)(m.a.Label,{children:"Rating:"}),Object(O.jsxs)(m.a.Control,{as:"select",onChange:n,name:"rating",isInvalid:!!l.rating,children:[Object(O.jsx)("option",{value:"",children:"Choose Rating"}),Object(O.jsx)("option",{value:"G",children:"G"}),Object(O.jsx)("option",{value:"PG",children:"PG"}),Object(O.jsx)("option",{value:"PG-13",children:"PG-13"}),Object(O.jsx)("option",{value:"R",children:"R"})]}),Object(O.jsx)(m.a.Control.Feedback,{type:"invalid",children:l.rating})]}),Object(O.jsxs)(m.a.Group,{controlId:"addNotes",children:[Object(O.jsx)(m.a.Label,{children:"Notes:"}),Object(O.jsx)(m.a.Control,{as:"textarea",rows:7,style:{width:400},placeholder:"Enter Notes",name:"notes",value:t.notes,onChange:n})]})]}),Object(O.jsx)("br",{}),Object(O.jsx)(v.a,{variant:"secondary",onClick:i,style:{marginRight:10},children:"Cancel"}),Object(O.jsx)(v.a,{variant:"primary",onClick:a,value:t.id,children:"Create DVD"})]})]})})}}]),a}(r.a.Component),w=function(e){Object(o.a)(a,e);var t=Object(c.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){var e=this.props,t=e.dvdData,a=e.show,n=e.handleClose;return Object(O.jsx)(C.a,{show:a,onHide:n,animation:!1,children:Object(O.jsxs)(C.a.Dialog,{children:[Object(O.jsxs)(C.a.Header,{closeButton:!0,children:[Object(O.jsx)(C.a.Title,{children:t.title}),Object(O.jsx)("hr",{})]}),Object(O.jsxs)(C.a.Body,{children:[Object(O.jsxs)("p",{children:["Release Year: ",t.releaseYear]}),Object(O.jsx)("br",{}),Object(O.jsxs)("p",{children:["Director: ",t.director]}),Object(O.jsx)("br",{}),Object(O.jsxs)("p",{children:["Rating: ",t.rating]}),Object(O.jsx)("br",{}),Object(O.jsxs)("p",{children:["Notes: ",t.notes]}),Object(O.jsx)("br",{}),Object(O.jsx)(v.a,{variant:"primary",onClick:n,children:"Back"})]})]})})}}]),a}(r.a.Component),Y="https://tsg-dvds.herokuapp.com",k=function(e){Object(o.a)(a,e);var t=Object(c.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={showDeleteModal:!1,showEditModal:!1,showAddModal:!1,showDetails:!1,errorMessage:!1,dvdData:[{id:1,title:"Avengers: Endgame",releaseYear:2019,director:"Anthony & Joe Russo",rating:"PG-13",notes:"It's the Endgame!"}],newDvdData:{id:"",title:"",releaseYear:"",director:"",rating:"",notes:""},editDvdData:{id:27,title:"Toy Story 4",releaseYear:2019,director:"John Lasster",rating:"PG",notes:"You've got a friend in me!"},addDvdData:{id:"",title:"",releaseYear:"",director:"",rating:"",notes:""},viewDvdData:{id:"",title:"",releaseYear:"",director:"",rating:"",notes:""},editDvdErrors:{title:"",releaseYear:"",rating:""},addDvdErrors:{title:"",releaseYear:""}},e.handleDeleteModalClose=function(t){e.setState({showDeleteModal:!1})},e.handleDeleteModalOpen=function(t){t&&t.preventDefault();var a=t.target.value;fetch(Y+"/dvd/"+a).then((function(e){return e.json()})).then((function(t){console.log("Success:",t),e.setState({newDvdData:t,showDeleteModal:!0})})).catch((function(e){console.error("Error:",e)}))},e.handleEditModalClose=function(t){e.setState({showEditModal:!1})},e.handleDetailsClose=function(t){e.setState({showDetails:!1})},e.handleSearch=function(t){t&&t.preventDefault();var a=t.target.name,n=t.target.value;"title"==a&&fetch(Y+"/dvds/title/"+n).then((function(e){return e.json()})).then((function(t){e.setState({dvdData:t})})).catch((function(e){console.error("Error:",e)})),"releaseYear"==a&&n>=0&&fetch(Y+"/dvds/year/"+n).then((function(e){return e.json()})).then((function(t){e.setState({dvdData:t})})).catch((function(e){console.error("Error:",e)})),"director"==a&&fetch(Y+"/dvds/director/"+n).then((function(e){return e.json()})).then((function(t){e.setState({dvdData:t})})).catch((function(e){console.error("Error:",e)})),"rating"==a?fetch(Y+"/dvds/rating/"+n).then((function(e){return e.json()})).then((function(t){e.setState({dvdData:t})})).catch((function(e){console.error("Error:",e)})):""==a||""==n?e.setState({errorMessage:!0}):e.setState({errorMessage:!1})},e.handleEditModalOpen=function(t){t&&t.preventDefault();var a=t.target.value;fetch(Y+"/dvd/"+a).then((function(e){return e.json()})).then((function(t){e.setState({editDvdData:t,showEditModal:!0})})).catch((function(e){console.error("Error:",e)}))},e.handleDetailsOpen=function(t){t&&t.preventDefault();var a=t.target.value;fetch(Y+"/dvd/"+a).then((function(e){return e.json()})).then((function(t){e.setState({viewDvdData:t,showDetails:!0})})).catch((function(e){console.error("Error:",e)}))},e.validateDvdAdd=function(e){var t={title:"",releaseYear:"",rating:"",isValid:!0};e.title||(t.title="Please enter a title for the DVD.",t.isValid=!1);return e.releaseYear&&!e.releaseYear.match("[0-9]{4}")&&(t.releaseYear="Please enter a 4-digit year.",t.isValid=!1),e.releaseYear||(t.releaseYear="Please enter a 4-digit year.",t.isValid=!1),e.rating||(t.rating="Please enter a rating.",t.isValid=!1),t},e.validateDvds=function(e){var t={title:"",releaseYear:"",rating:"",isValid:!0};return e.title||(t.title="Please enter a title for the DVD.",t.isValid=!1),e.releaseYear||(t.releaseYear="Please enter a 4-digit year.",t.isValid=!1),e.rating||(t.rating="Please enter a rating.",t.isValid=!1),e.releaseYear&&(e.releaseYear<=999||e.releaseYear>2021)&&(t.releaseYear="Please enter a 4-digit year.",t.isValid=!1),t},e.handleEditFormChange=function(t){var a=t.target.name,n=t.target.value,r=e.state.editDvdData;console.log("Something changed in ".concat(a," : ").concat(n)),r.hasOwnProperty(a)&&(r[a]=n,e.setState({editDvdData:r}))},e.handleAddFormChange=function(t){var a=t.target.name,n=t.target.value,r=e.state.addDvdData;console.log("Something changed in ".concat(a," : ").concat(n)),r.hasOwnProperty(a)&&(r[a]=n,e.setState({addDvdData:r}))},e.handleAddModalClose=function(t){e.setState({showAddModal:!1})},e.handleAddModalOpen=function(t){e.setState({showAddModal:!0})},e.handleAddFormSubmit=function(t){t&&t.preventDefault();var a=e.validateDvdAdd(e.state.addDvdData);a.isValid?fetch(Y+"/dvd/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e.state.addDvdData)}).then((function(e){return e.json()})).then((function(t){e.setState({addDvdData:{id:"",title:"",releaseYear:"",director:"",rating:"",notes:""}}),e.setState({showAddModal:!1,addDvdErrors:a}),e.loadDvdData()})).catch((function(e){console.log("Add DVD - Error:"),console.log(e)})):e.setState({addDvdErrors:a})},e.handleEditFormSubmit=function(t){t&&t.preventDefault();var a=t.target.value,n=e.validateDvds(e.state.editDvdData);n.isValid?fetch(Y+"/dvd/"+a,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e.state.editDvdData)}).then((function(t){e.setState({showEditModal:!1,editDvdErrors:n}),e.loadDvdData()})).catch((function(e){console.error("Error:",e)})):e.setState({editDvdErrors:n})},e.handleDeleteDVD=function(t){t&&t.preventDefault();var a=t.target.value;fetch(Y+"/dvd/"+a,{method:"DELETE"}).then((function(t){e.setState({showDeleteModal:!1}),e.loadDvdData()})).catch((function(e){console.error("Error:",e)}))},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.loadDvdData()}},{key:"loadDvdData",value:function(){var e=this;fetch(Y+"/dvds").then((function(e){return e.json()})).then((function(t){return e.setState({dvdData:t})}))}},{key:"render",value:function(){if(this.state.errorMessage)var e={borderStyle:"solid",backgroundColor:"red"},t=Object(O.jsx)("h3",{children:"Both Search Category and Search Term are required."});return Object(O.jsxs)(h.a,{fluid:!0,children:[Object(O.jsx)(j.a,{children:Object(O.jsx)(u.a,{children:Object(O.jsx)(f,{handleCreate:this.handleAddModalOpen,handleSearch:this.handleSearch})})}),Object(O.jsx)("hr",{}),Object(O.jsx)(j.a,{children:Object(O.jsxs)(u.a,{children:[Object(O.jsx)("div",{style:e,children:t}),Object(O.jsx)("br",{}),Object(O.jsx)(p,{dvd:this.state.dvdData,handleDelete:this.handleDeleteModalOpen,handleEdit:this.handleEditModalOpen,handleDetails:this.handleDetailsOpen})]})}),Object(O.jsx)(S,{dvdData:this.state.editDvdData,show:this.state.showEditModal,handleClose:this.handleEditModalClose,handleSubmit:this.handleEditFormSubmit,handleChange:this.handleEditFormChange,dvdErrors:this.state.editDvdErrors}),Object(O.jsx)(y,{show:this.state.showDeleteModal,handleClose:this.handleDeleteModalClose,handleDelete:this.handleDeleteDVD,dvdData:this.state.newDvdData}),Object(O.jsx)(E,{dvdData:this.state.addDvdData,show:this.state.showAddModal,handleClose:this.handleAddModalClose,handleSubmit:this.handleAddFormSubmit,handleChange:this.handleAddFormChange,dvdErrors:this.state.addDvdErrors}),Object(O.jsx)(w,{dvdData:this.state.viewDvdData,show:this.state.showDetails,handleClose:this.handleDetailsClose})]})}}]),a}(r.a.Component),M=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,40)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,i=t.getLCP,l=t.getTTFB;a(e),n(e),r(e),i(e),l(e)}))};l.a.render(Object(O.jsx)(r.a.StrictMode,{children:Object(O.jsx)(k,{})}),document.getElementById("root")),M()}},[[32,1,2]]]);
//# sourceMappingURL=main.5e365626.chunk.js.map